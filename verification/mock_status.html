<!DOCTYPE html>
<html>
<head>
    <title>Status Page Mock</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/dashicons/4.6/css/dashicons.min.css">
    <style>
        .button { padding: 4px 10px; cursor: pointer; border: 1px solid #ccc; background: #f7f7f7; }
        .large-text { width: 100%; height: 200px; }
    </style>
</head>
<body>
    <div class="wrap">
        <h1>System Status</h1>

        <div class="aips-log-details" id="log-details-db_check">
            <textarea class="large-text code" rows="10" readonly id="textarea-db_check">
[2023-10-27 10:00:00] INFO Database check passed.
[2023-10-27 10:01:00] INFO Table aips_schedule exists.
            </textarea>
            <button type="button" class="button button-small aips-copy-log" data-target="textarea-db_check">
                <span class="dashicons dashicons-clipboard"></span> Copy to Clipboard
            </button>
        </div>
    </div>

    <script>
    jQuery(document).ready(function($) {
        $('.aips-copy-log').on('click', function(e) {
            e.preventDefault();
            var targetId = $(this).data('target');
            var copyText = document.getElementById(targetId);

            copyText.select();
            copyText.setSelectionRange(0, 99999);

            try {
                document.execCommand("copy");
                var $btn = $(this);
                var originalText = $btn.html();
                $btn.html('<span class="dashicons dashicons-yes"></span> Copied!');
                setTimeout(function() {
                    $btn.html(originalText);
                }, 2000);
            } catch (err) {
                console.error('Fallback: Oops, unable to copy', err);
            }
        });
    });
    </script>
</body>
</html>
