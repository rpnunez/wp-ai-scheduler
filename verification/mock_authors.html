<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Mock Authors Page</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>
        .aips-wrap { padding: 20px; }
        .wp-list-table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        .wp-list-table th, .wp-list-table td { border: 1px solid #ccc; padding: 8px; text-align: left; }
        .screen-reader-text { display: none; }
        .tablenav { margin-bottom: 10px; }
        .aips-toast { position: fixed; top: 20px; right: 20px; background: #fff; border: 1px solid #ccc; padding: 10px; z-index: 1000; box-shadow: 0 2px 5px rgba(0,0,0,0.2); }
        .aips-toast.success { border-left: 4px solid green; }
        .aips-toast.error { border-left: 4px solid red; }
    </style>
    <script>
        var ajaxurl = '/wp-admin/admin-ajax.php';
        var aipsAuthorsL10n = {
            nonce: 'mock_nonce',
            confirmDelete: 'Are you sure?',
            confirmBulkDeleteAuthors: 'Are you sure you want to delete %d authors? This will delete all associated topics and logs.',
            authorsDeleted: 'Authors deleted successfully.',
            errorDeletingAuthors: 'Error deleting authors.',
            selectBulkAction: 'Please select a bulk action.',
            noAuthorsSelected: 'Please select at least one author.'
        };
    </script>
</head>
<body>
    <div class="wrap aips-wrap">
        <h1>Authors <button class="page-title-action aips-add-author-btn">Add New Author</button></h1>

        <div id="authors-list-tab" class="aips-authors-tab-content active">
            <div class="aips-authors-container">
                <div class="aips-authors-list">
                    <div class="tablenav top" style="margin-top: 0;">
                        <div class="alignleft actions bulkactions">
                            <label for="bulk-action-selector-top" class="screen-reader-text">Select bulk action</label>
                            <select name="action" id="bulk-action-selector-top">
                                <option value="-1">Bulk Actions</option>
                                <option value="delete">Delete</option>
                            </select>
                            <input type="submit" id="doaction" class="button action aips-authors-bulk-action" value="Apply">
                        </div>
                    </div>

                    <table class="wp-list-table widefat fixed striped">
                        <thead>
                            <tr>
                                <td id="cb" class="manage-column column-cb check-column">
                                    <input id="cb-select-all-1" type="checkbox" class="aips-author-select-all">
                                </td>
                                <th class="column-name">Name</th>
                                <th class="column-field">Field/Niche</th>
                                <th class="column-topics">Topics</th>
                                <th class="column-posts">Posts Generated</th>
                                <th class="column-active">Active</th>
                                <th class="column-actions">Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr data-author-id="1">
                                <th scope="row" class="check-column">
                                    <input id="cb-select-1" type="checkbox" name="author[]" value="1" class="aips-author-checkbox">
                                </th>
                                <td class="column-name"><strong>John Doe</strong></td>
                                <td class="column-field">Tech</td>
                                <td class="column-topics">10 total</td>
                                <td class="column-posts"><strong>5</strong></td>
                                <td class="column-active">Yes</td>
                                <td class="column-actions"><button>Edit</button></td>
                            </tr>
                            <tr data-author-id="2">
                                <th scope="row" class="check-column">
                                    <input id="cb-select-2" type="checkbox" name="author[]" value="2" class="aips-author-checkbox">
                                </th>
                                <td class="column-name"><strong>Jane Smith</strong></td>
                                <td class="column-field">Science</td>
                                <td class="column-topics">15 total</td>
                                <td class="column-posts"><strong>8</strong></td>
                                <td class="column-active">Yes</td>
                                <td class="column-actions"><button>Edit</button></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <div id="aips-toast-container"></div>

    <script src="../ai-post-scheduler/assets/js/authors.js"></script>

    <!-- Mock AJAX interceptor -->
    <script>
        $.ajax = function(options) {
            console.log('AJAX call intercepted:', options);
            if (options.data.action === 'aips_bulk_delete_authors') {
                 // Simulate success after a delay
                 setTimeout(function() {
                     if (options.success) {
                         options.success({
                             success: true,
                             data: { message: '2 authors deleted successfully.' }
                         });
                     }
                 }, 500);
            }
        };
    </script>
</body>
</html>
