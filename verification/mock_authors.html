<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Authors Mock</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>
        /* Minimal CSS to make modals work */
        .aips-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .aips-modal-content {
            background: #fff;
            padding: 20px;
            width: 600px;
            max-width: 90%;
            border-radius: 4px;
            position: relative;
            margin: 100px auto; /* Centering hack */
        }
        .aips-modal-close {
            position: absolute;
            top: 10px;
            right: 10px;
            cursor: pointer;
            border: none;
            background: none;
            font-size: 20px;
        }
        /* WP Admin styles mock */
        .wrap { margin: 20px; }
        .button { padding: 5px 10px; cursor: pointer; }
        .widefat { width: 100%; border-collapse: collapse; }
        .widefat td, .widefat th { border: 1px solid #ccc; padding: 8px; }
        .aips-status-topic_approved { color: green; font-weight: bold; }
    </style>
</head>
<body>

<div class="wrap aips-wrap">
    <h1>Authors Mock</h1>

    <!-- Button to trigger View Topics (which contains the View Log button in real app) -->
    <!-- For testing View Log directly, I'll add a mock "View Topic Log" button here -->
    <button class="button aips-view-topic-log" data-id="123">View Topic Log</button>

    <!-- Topic Logs Modal (Copied from authors.php) -->
    <div id="aips-topic-logs-modal" class="aips-modal" style="display: none;">
        <div class="aips-modal-content aips-modal-large">
            <button type="button" class="aips-modal-close" aria-label="Close modal">&times;</button>
            <h2 id="aips-topic-logs-modal-title">Topic History Log</h2>
            <div id="aips-topic-logs-content">
                <p>Loading logs...</p>
            </div>
        </div>
    </div>

</div>

<script>
    // Mock Localization
    var aipsAuthorsL10n = {
        nonce: 'mock_nonce',
        logViewerLoading: 'Loading logs...',
        logViewerError: 'Error loading logs.',
        noLogsFound: 'No history found for this topic.',
        logAction: 'Action',
        logUser: 'User',
        logDate: 'Date',
        logDetails: 'Details'
    };
    var ajaxurl = 'https://example.com/wp-admin/admin-ajax.php'; // Absolute URL for network interception

    // Mock jQuery script that we just modified
    // We will load the actual JS file via Playwright or inject it?
    // Better to include it via script tag referencing the local file
</script>
<script src="../ai-post-scheduler/assets/js/authors.js"></script>

</body>
</html>
